<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sonam Didi</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="stars"></div>
<div id="scene"></div>

<div id="text" class="hidden">
  <div class="line l1">AND QUIETLY IT BECAME NOW</div>
  <div class="line l2">Happy Birthday 2000 – 2026</div>
  <div class="line l3">Sonam Didi ✨</div>
</div>

<script>
const scene = document.getElementById("scene");
const text = document.getElementById("text");
const lines = document.querySelectorAll(".line");

const colors = [
  "#ff1744", "#ffd600", "#00e5ff",
  "#76ff03", "#e040fb", "#ff9100"
];

let count = 0;
setTimeout(sequence, 1200);

function sequence() {
  if (count < 5) {
    count++;
    launch(false);
    setTimeout(sequence, 2000);
  } else {
    setTimeout(() => launch(true), 2000);
  }
}

function launch(final) {
  const rocket = document.createElement("div");
  rocket.className = "rocket";
  scene.appendChild(rocket);

  rocket.animate(
    [{ bottom: "0" }, { bottom: "55vh" }],
    { duration: 1400, easing: "cubic-bezier(.4,0,.2,1)" }
  );

  setTimeout(() => {
    rocket.remove();
    explode(final);
  }, 1400);
}

function explode(final) {
  const total = final ? 220 : 140;
  const power = final ? 420 : 300;

  for (let i = 0; i < total; i++) {
    const p = document.createElement("span");
    p.className = "particle";
    p.style.background =
      colors[Math.floor(Math.random() * colors.length)];
    p.style.left = "50%";
    p.style.top = "55vh";

    const angle = Math.random() * Math.PI * 2;
    const speed = Math.random() * power;

    const x = Math.cos(angle) * speed;
    const y = Math.sin(angle) * speed + 180; // gravity pull

    p.animate(
      [
        { transform: "translate(0,0) scale(1)", opacity: 1 },
        {
          transform: `translate(${x}px, ${y}px) scale(0.2)`,
          opacity: 0
        }
      ],
      {
        duration: final ? 3200 : 2600,
        easing: "cubic-bezier(.2,.8,.4,1)"
      }
    );

    scene.appendChild(p);
    setTimeout(() => p.remove(), 3400);
  }

  if (final) showText();
}

function showText() {
  text.classList.remove("hidden");
  let delay = 0;

  lines.forEach(line => {
    setTimeout(() => line.classList.add("fade-line"), delay);
    delay += 2000;
  });
}
</script>

</body>
</html>
