<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Happy Birthday Sonam Didi</title>

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:black;
  overflow:hidden;
  font-family:"Times New Roman", serif;
}

/* ‚ú® STAR FIELD (TWINKLING) */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(1px 1px at 15% 25%, #fff, transparent),
    radial-gradient(1.5px 1.5px at 35% 65%, #fff, transparent),
    radial-gradient(2px 2px at 60% 40%, #fff, transparent),
    radial-gradient(1px 1px at 80% 75%, #fff, transparent);
  opacity:0.75;
  animation:twinkle 6s infinite alternate;
  z-index:0;
}
@keyframes twinkle{
  from{opacity:0.4}
  to{opacity:0.8}
}

/* üå´Ô∏è FOG */
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:radial-gradient(circle at 50% 85%, rgba(255,255,255,0.09), transparent 70%);
  animation:fogMove 16s linear infinite;
  z-index:1;
}
@keyframes fogMove{
  0%{transform:translateX(0)}
  50%{transform:translateX(-70px)}
  100%{transform:translateX(0)}
}

canvas{
  position:fixed;
  inset:0;
  z-index:2;
}

/* üéâ TEXT */
.text1,.text2{
  position:absolute;
  width:100%;
  text-align:center;
  color:white;
  opacity:0;
  z-index:3;
}
.text1{ top:40%; font-size:48px; }
.text2{ top:52%; font-size:36px; }

.fade{ animation:fadeIn 2s forwards; }
@keyframes fadeIn{ to{opacity:1} }
</style>
</head>

<body>

<canvas id="c"></canvas>

<div class="text1">AND QUIETLY IT BECAME NOW</div>
<div class="text2">Happy Birthday 2000‚Äì2026<br>Sonam Didi ‚ú®</div>

<script>
const c=document.getElementById("c"),ctx=c.getContext("2d");
resize(); window.onresize=resize;
function resize(){ c.width=innerWidth; c.height=innerHeight }

let rockets=[], sparks=[], smoke=[];
let launched=0, max=5;
/* üîä AUDIO CONTEXT */
const AudioCtx = window.AudioContext || window.webkitAudioContext;
const audioCtx = new AudioCtx();

/* üîì UNLOCK SOUND ON FIRST TAP */
document.body.addEventListener("click",()=>{
  audioCtx.resume();
},{once:true});

/* üí• FIREWORK SOUND + SHAKE */
function fireworkSound(){
  const noise = audioCtx.createBufferSource();
  const buffer = audioCtx.createBuffer(1, audioCtx.sampleRate * 0.25, audioCtx.sampleRate);
  const data = buffer.getChannelData(0);

  for(let i=0;i<data.length;i++){
    data[i]=(Math.random()*2-1)*(1-i/data.length);
  }

  noise.buffer=buffer;

  const filter=audioCtx.createBiquadFilter();
  filter.type="lowpass";
  filter.frequency.value=700;

  const gain=audioCtx.createGain();
  gain.gain.value=1;

  noise.connect(filter);
  filter.connect(gain);
  gain.connect(audioCtx.destination);
  noise.start();

  document.body.classList.add("shake");
  setTimeout(()=>document.body.classList.remove("shake"),300);
}
/* üöÄ ROCKET */
class Rocket{
  constructor(){
    this.x=Math.random()*c.width;
    this.y=c.height;
    this.vy=-11-Math.random()*3;
    this.color=`hsl(${Math.random()*360},100%,60%)`;
  }
  update(){
    this.y+=this.vy;
    smoke.push(new Smoke(this.x,this.y,18,0.2));
    if(this.y<c.height*0.45){
      this.explode();
      return false;
    }
    return true;
  }
  draw(){
    ctx.strokeStyle=this.color;
    ctx.lineWidth=2;
    ctx.beginPath();
    ctx.moveTo(this.x,this.y+25);
    ctx.lineTo(this.x,this.y);
    ctx.stroke();
  }
  explode(){
    for(let i=0;i<180;i++)
      sparks.push(new Spark(this.x,this.y,this.color));
    for(let i=0;i<10;i++)
      smoke.push(new Smoke(this.x,this.y,30,0.25));
  }
}

/* üí• SPARK (REAL FIREWORK PARTICLE) */
class Spark{
  constructor(x,y,c){
    const a=Math.random()*Math.PI*2;
    const s=Math.random()*7+3;
    this.x=x; this.y=y;
    this.vx=Math.cos(a)*s;
    this.vy=Math.sin(a)*s;
    this.g=0.07;
    this.a=1;
    this.c=c;
    this.r=2.8;
  }
  update(){
    this.vy+=this.g;
    this.x+=this.vx;
    this.y+=this.vy;
    this.a-=0.01;
    return this.a>0;
  }
  draw(){
    ctx.globalAlpha=this.a;
    ctx.fillStyle=this.c;
    ctx.beginPath();
    ctx.arc(this.x,this.y,this.r,0,Math.PI*2);
    ctx.fill();
    ctx.globalAlpha=1;
  }
}

/* üå´Ô∏è SMOKE CLOUD */
class Smoke{
  constructor(x,y,r,a){
    this.x=x+Math.random()*12-6;
    this.y=y;
    this.r=r+Math.random()*15;
    this.a=a;
  }
  update(){
    this.y-=0.35;
    this.a-=0.0025;
    return this.a>0;
  }
  draw(){
    ctx.fillStyle=`rgba(220,220,220,${this.a})`;
    ctx.beginPath();
    ctx.arc(this.x,this.y,this.r,0,Math.PI*2);
    ctx.fill();
  }
}

/* üöÄ LAUNCH SEQUENCE */
let launcher=setInterval(()=>{
  rockets.push(new Rocket());
  launched++;
  if(launched===max) clearInterval(launcher);
},1600);

/* üé¨ LOOP */
function animate(){
  ctx.fillStyle="rgba(0,0,0,0.3)";
  ctx.fillRect(0,0,c.width,c.height);

  rockets=rockets.filter(r=>{ r.draw(); return r.update() });
  sparks=sparks.filter(s=>{ s.draw(); return s.update() });
  smoke=smoke.filter(sm=>{ sm.draw(); return sm.update() });

  requestAnimationFrame(animate);
}
animate();

/* üìù TEXT + NEXT PAGE */
setTimeout(()=>{
  document.querySelector(".text1").classList.add("fade");
  setTimeout(()=>{
    document.querySelector(".text2").classList.add("fade");
    setTimeout(()=>location.href="party.html",5000);
  },2000);
}, max*1600 + 1400);
</script>

</body>
</html>
