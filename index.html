<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sonam Didi</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="stars"></div>
<div id="scene"></div>

<div id="text" class="hide">
  <div class="t1">And quietly it became now</div>
  <div class="t2">Happy Birthday 2000 – 2026</div>
  <div class="t3">Sonam Didi ✨</div>
</div>

<script>
  const scene = document.getElementById("scene");
  const text = document.getElementById("text");
  const colors = ["red","gold","cyan","lime","violet"];
  let shots = 0;

  setTimeout(startFireworks, 500);

  function startFireworks() {
    const timer = setInterval(() => {
      shots++;
      if (shots <= 5) {
        launch(false);
      } else {
        clearInterval(timer);
        setTimeout(() => launch(true), 800);
      }
    }, 900);
  }

  function launch(final) {
    const rocket = document.createElement("div");
    rocket.className = "rocket";
    scene.appendChild(rocket);

    rocket.animate(
      [{ bottom: "0px" }, { bottom: "50vh" }],
      { duration: 800, easing: "ease-out" }
    );

    setTimeout(() => {
      rocket.remove();
      explode(final);
    }, 800);
  }

  function explode(final) {
    const total = final ? 60 : 30;

    for (let i = 0; i < total; i++) {
      const spark = document.createElement("span");
      spark.className = "spark";
      spark.style.background = colors[Math.floor(Math.random()*colors.length)];
      spark.style.left = "50%";
      spark.style.top = "50%";

      const angle = Math.random() * Math.PI * 2;
      const dist = final ? 200 : 120;

      spark.animate(
        [
          { transform: "translate(0,0)", opacity: 1 },
          { transform: `translate(${Math.cos(angle)*dist}px,${Math.sin(angle)*dist}px)`, opacity: 0 }
        ],
        { duration: final ? 1800 : 1200 }
      );

      scene.appendChild(spark);
      setTimeout(() => spark.remove(), 1800);
    }

    if (final) {
      setTimeout(() => text.classList.remove("hide"), 1200);
    }
  }
</script>

</body>
</html>
